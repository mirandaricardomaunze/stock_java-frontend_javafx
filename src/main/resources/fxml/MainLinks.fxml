<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.effect.*?>
<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?>
<?import javafx.scene.paint.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.manager.controller.MainLinksController"
            stylesheets="@/css/mainlinks.css"
            prefWidth="1400" prefHeight="900"
            style="-fx-background-color: linear-gradient(to bottom right, #f8fafc, #e2e8f0);">

    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                    style="-fx-background: transparent; -fx-border-color: transparent;">
            <VBox spacing="50" styleClass="main-container">

                <!-- CABEÇALHO ELEGANTE -->
                <VBox spacing="25" styleClass="header-section">
                    <HBox spacing="25" alignment="CENTER_LEFT">
                        <!-- Logo e Título -->
                        <HBox spacing="20" alignment="CENTER_LEFT">
                            <StackPane styleClass="logo-container">
                                <Rectangle width="60" height="60" arcWidth="15" arcHeight="15" styleClass="logo-background"/>
                                <FontAwesomeIconView glyphName="GEARS" styleClass="logo-icon"/>
                            </StackPane>
                            <VBox spacing="8">
                                <Label text="Sistema de Gestão Empresarial" styleClass="header-title"/>
                                <Label text="Painel de Controle Integrado" styleClass="header-subtitle"/>
                            </VBox>
                        </HBox>

                        <Region HBox.hgrow="ALWAYS"/>

                        <!-- Data e Hora Moderna -->
                        <VBox alignment="CENTER_RIGHT" spacing="10" styleClass="datetime-container">
                            <HBox spacing="12" alignment="CENTER_RIGHT">
                                <StackPane styleClass="datetime-icon-container">
                                    <FontAwesomeIconView glyphName="CALENDAR" styleClass="datetime-icon"/>
                                </StackPane>
                                <Label fx:id="dateDisplay" text="Carregando data..." styleClass="date-display"/>
                            </HBox>
                            <HBox spacing="12" alignment="CENTER_RIGHT">
                                <StackPane styleClass="time-icon-container">
                                    <FontAwesomeIconView glyphName="CLOCK_ALT" styleClass="time-icon"/>
                                </StackPane>
                                <Label fx:id="timeDisplay" text="Carregando hora..." styleClass="time-display"/>
                            </HBox>
                        </VBox>
                    </HBox>

                    <!-- Barra de Status -->
                    <HBox spacing="20" alignment="CENTER_LEFT" styleClass="status-bar">
                        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="status-item">
                            <Circle radius="4" fill="#10b981" styleClass="status-indicator"/>
                            <Label text="Sistema Online" styleClass="status-text"/>
                        </HBox>
                        <Rectangle height="20" width="1" fill="#e2e8f0"/>
                        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="status-item">
                            <Circle radius="4" fill="#3b82f6" styleClass="status-indicator"/>
                            <Label text="12 Operações Ativas" styleClass="status-text"/>
                        </HBox>
                    </HBox>
                </VBox>

                <!-- MÓDULOS PRINCIPAIS COM DESIGN MODERNO -->
                <VBox spacing="25" styleClass="modules-section">
                    <HBox alignment="CENTER_LEFT" spacing="15" styleClass="section-header">
                        <Rectangle width="5" height="25" styleClass="accent-bar"/>
                        <FontAwesomeIconView glyphName="TH_LARGE" styleClass="section-icon"/>
                        <Label text="Módulos do Sistema" styleClass="section-title"/>
                    </HBox>

                    <GridPane hgap="25" vgap="25" alignment="CENTER" styleClass="modules-grid">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="25" halignment="CENTER"/>
                            <ColumnConstraints percentWidth="25" halignment="CENTER"/>
                            <ColumnConstraints percentWidth="25" halignment="CENTER"/>
                            <ColumnConstraints percentWidth="25" halignment="CENTER"/>
                        </columnConstraints>
                        <rowConstraints>
                            <RowConstraints percentHeight="33" valignment="CENTER"/>
                            <RowConstraints percentHeight="33" valignment="CENTER"/>
                            <RowConstraints percentHeight="33" valignment="CENTER"/>
                        </rowConstraints>

                        <!-- Linha 1 -->
                        <StackPane styleClass="module-card" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container dashboard-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="DASHBOARD" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Dashboard" styleClass="module-title"/>
                                    <Label text="Visão geral do sistema" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#loadDashboard">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>

                        <StackPane styleClass="module-card" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container operational-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="LINK" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Operacional" styleClass="module-title"/>
                                    <Label text="Gestão operacional" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#loadMainLinks">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>

                        <StackPane styleClass="module-card" GridPane.columnIndex="2" GridPane.rowIndex="0">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container sales-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="SHOPPING_CART" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Vendas" styleClass="module-title"/>
                                    <Label text="Gestão de vendas" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#goToSale">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>

                        <StackPane styleClass="module-card" GridPane.columnIndex="3" GridPane.rowIndex="0">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container products-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="SHOPPING_BAG" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Produtos" styleClass="module-title"/>
                                    <Label text="Cadastro e estoque" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#loadProductRegister">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>

                        <!-- Linha 2 -->
                        <StackPane styleClass="module-card" GridPane.columnIndex="0" GridPane.rowIndex="1">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container invoices-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="FILE_TEXT_ALT" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Faturas" styleClass="module-title"/>
                                    <Label text="Faturamento e cobrança" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#loadInvoice">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>

                        <StackPane styleClass="module-card" GridPane.columnIndex="1" GridPane.rowIndex="1">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container clients-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="USERS" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Clientes" styleClass="module-title"/>
                                    <Label text="Gestão de clientes" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#loadMainLinks">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>

                        <StackPane styleClass="module-card" GridPane.columnIndex="2" GridPane.rowIndex="1">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container company-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="BUILDING" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Empresa" styleClass="module-title"/>
                                    <Label text="Dados da empresa" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#loadCompanyRegister">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>

                        <StackPane styleClass="module-card" GridPane.columnIndex="3" GridPane.rowIndex="1">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container warehouse-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="HOME" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Armazém" styleClass="module-title"/>
                                    <Label text="Gestão de armazém" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#loadWarehouse">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>

                        <StackPane styleClass="module-card" GridPane.columnIndex="3" GridPane.rowIndex="1">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container warehouse-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="HOME" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Transferências" styleClass="module-title"/>
                                    <Label text="Gestão de Transferências" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#goToTransfer">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>
                        <StackPane styleClass="module-card" GridPane.columnIndex="3" GridPane.rowIndex="1">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container warehouse-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="HOME" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Stock" styleClass="module-title"/>
                                    <Label text="Gestão de stock" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#goToStock">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>

                        <!-- Linha 3 -->
                        <StackPane styleClass="module-card" GridPane.columnIndex="0" GridPane.rowIndex="2">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container categories-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="TAGS" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Categorias" styleClass="module-title"/>
                                    <Label text="Categorias e tags" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#loadCategory">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>

                        <StackPane styleClass="module-card" GridPane.columnIndex="1" GridPane.rowIndex="2">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container suppliers-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="TRUCK" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Fornecedores" styleClass="module-title"/>
                                    <Label text="Gestão de fornecedores" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#loadSupplier">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>

                        <StackPane styleClass="module-card" GridPane.columnIndex="2" GridPane.rowIndex="2">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container movements-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="EXCHANGE" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Movimentos" styleClass="module-title"/>
                                    <Label text="Movimentações do sistema" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#loadMainLinks">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>

                        <StackPane styleClass="module-card" GridPane.columnIndex="3" GridPane.rowIndex="2">
                            <VBox spacing="15" alignment="CENTER">
                                <StackPane styleClass="module-icon-container reports-icon">
                                    <Circle radius="32" styleClass="icon-background"/>
                                    <FontAwesomeIconView glyphName="BAR_CHART" styleClass="module-icon"/>
                                </StackPane>
                                <VBox spacing="8" alignment="CENTER">
                                    <Label text="Relatórios" styleClass="module-title"/>
                                    <Label text="Relatórios e analytics" styleClass="module-description"/>
                                </VBox>
                                <Button text="Acessar" styleClass="module-button" onAction="#loadMainLinks">
                                    <graphic>
                                        <FontAwesomeIconView glyphName="ARROW_RIGHT" styleClass="button-icon"/>
                                    </graphic>
                                </Button>
                            </VBox>
                        </StackPane>
                    </GridPane>
                </VBox>

                <!-- AÇÕES RÁPIDAS MODERNAS -->
                <VBox spacing="25" styleClass="quick-actions-section">
                    <HBox alignment="CENTER_LEFT" spacing="15" styleClass="section-header">
                        <Rectangle width="5" height="25" styleClass="accent-bar"/>
                        <FontAwesomeIconView glyphName="BOLT" styleClass="section-icon"/>
                        <Label text="Ações Rápidas" styleClass="section-title"/>
                    </HBox>

                    <HBox spacing="20" alignment="CENTER" styleClass="quick-actions-container">
                        <VBox spacing="12" alignment="CENTER" styleClass="quick-action-item">
                            <Button onAction="#goToOrderTable" styleClass="quick-action-button">
                                <graphic>
                                    <StackPane styleClass="quick-action-icon-container">
                                        <FontAwesomeIconView glyphName="SHOPPING_CART" styleClass="action-button-icon"/>
                                    </StackPane>
                                </graphic>
                            </Button>
                            <Label text="Encomendas" styleClass="quick-action-label"/>
                        </VBox>

                        <VBox spacing="12" alignment="CENTER" styleClass="quick-action-item">
                            <Button onAction="#goToInvoiceTable" styleClass="quick-action-button">
                                <graphic>
                                    <StackPane styleClass="quick-action-icon-container">
                                        <FontAwesomeIconView glyphName="FILE_TEXT" styleClass="action-button-icon"/>
                                    </StackPane>
                                </graphic>
                            </Button>
                            <Label text="Faturas" styleClass="quick-action-label"/>
                        </VBox>

                        <VBox spacing="12" alignment="CENTER" styleClass="quick-action-item">
                            <Button onAction="#goToMainDashbord" styleClass="quick-action-button">
                                <graphic>
                                    <StackPane styleClass="quick-action-icon-container">
                                        <FontAwesomeIconView glyphName="BAR_CHART" styleClass="action-button-icon"/>
                                    </StackPane>
                                </graphic>
                            </Button>
                            <Label text="Dashboard" styleClass="quick-action-label"/>
                        </VBox>

                        <VBox spacing="12" alignment="CENTER" styleClass="quick-action-item">
                            <Button styleClass="quick-action-button">
                                <graphic>
                                    <StackPane styleClass="quick-action-icon-container">
                                        <FontAwesomeIconView glyphName="USER_PLUS" styleClass="action-button-icon"/>
                                    </StackPane>
                                </graphic>
                            </Button>
                            <Label text="Clientes" styleClass="quick-action-label"/>
                        </VBox>
                    </HBox>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>