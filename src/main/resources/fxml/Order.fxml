<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?>
<StackPane xmlns="http://javafx.com/javafx"
           xmlns:fx="http://javafx.com/fxml"
           fx:controller="org.manager.controller.OrderController"
           prefWidth="850" prefHeight="600"
           stylesheets="@../css/order.css"
           styleClass="root-container">

    <ScrollPane fitToWidth="true" fitToHeight="true" styleClass="scroll-pane">
        <VBox spacing="16" styleClass="vbox-spacing">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>

            <!-- ðŸ”· CabeÃ§alho -->
            <Label text="FormulÃ¡rio de Encomenda" styleClass="title-label"/>

            <!-- ðŸ¢ Empresa e ArmazÃ©m -->
            <GridPane hgap="15" vgap="10" styleClass="grid-spacing">
                <columnConstraints>
                    <ColumnConstraints percentWidth="50"/>
                    <ColumnConstraints percentWidth="50"/>
                </columnConstraints>

                <Label text="Empresa" GridPane.columnIndex="0" styleClass="section-label"/>
                <Label text="ArmazÃ©m" GridPane.columnIndex="1" styleClass="section-label"/>

                <ComboBox fx:id="companyComboBox" minHeight="36"  promptText="Selecionar Empresa"
                          GridPane.columnIndex="0" styleClass="form-combo"/>
                <ComboBox fx:id="warehouseComboBox" minHeight="36" promptText="Selecionar ArmazÃ©m"
                          GridPane.columnIndex="1" styleClass="form-combo"/>
            </GridPane>

            <!-- ðŸ‘¤ Dados do Cliente -->
            <TitledPane text="Dados do Cliente" expanded="true" styleClass="titled-pane">
                <VBox spacing="8" styleClass="vbox-spacing">
                    <padding>
                        <Insets left="10" right="10" bottom="10" top="10"/>
                    </padding>
                    <GridPane hgap="10" vgap="10" styleClass="grid-spacing">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="50"/>
                            <ColumnConstraints percentWidth="50"/>
                        </columnConstraints>

                        <TextField fx:id="nameField" promptText="Nome do Cliente" GridPane.columnIndex="0" styleClass="form-field"/>
                        <TextField fx:id="nuitField" promptText="NUIT" GridPane.columnIndex="1" styleClass="form-field"/>
                        <TextField fx:id="phoneField" promptText="Telefone" GridPane.rowIndex="1" GridPane.columnIndex="0" styleClass="form-field"/>
                        <TextField fx:id="emailField" promptText="Email" GridPane.rowIndex="1" GridPane.columnIndex="1" styleClass="form-field"/>
                        <TextField fx:id="paymentField" promptText="MÃ©todo de Pagamento" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="form-field"/>
                        <TextField fx:id="addressField" promptText="EndereÃ§o de Entrega" GridPane.rowIndex="2" GridPane.columnIndex="1" styleClass="form-field"/>
                    </GridPane>
                    <TextArea fx:id="notesArea" promptText="ObservaÃ§Ãµes" prefRowCount="2" styleClass="form-textarea"/>
                </VBox>
            </TitledPane>

            <!--  SeÃ§Ã£o de Produtos -->
            <TitledPane text="Produtos" expanded="true" styleClass="titled-pane">
                <VBox spacing="10" styleClass="vbox-spacing">
                    <padding>
                        <Insets left="10" right="10" bottom="10" top="10"/>
                    </padding>
                    <HBox spacing="10" styleClass="hbox-spacing">
                        <ComboBox fx:id="productComboBox" minHeight="36"  promptText="Selecionar Produto" styleClass="form-combo"/>
                        <TextField fx:id="quantityField" promptText="Qtd" prefWidth="80" styleClass="form-field"/>
                        <Button fx:id="addProductButton" text="Adicionar" styleClass="success-button">
                            <graphic>
                                <FontAwesomeIconView glyphName="PLUS" styleClass="icon"/>
                            </graphic>
                        </Button>
                    </HBox>
                    <TableView fx:id="tableView" prefHeight="300" minHeight="300" styleClass="table-view">
                        <columns>
                            <TableColumn fx:id="colProduct" text="Produto" prefWidth="250"/>
                            <TableColumn fx:id="colQuantity" text="Qtd" prefWidth="200"/>
                            <TableColumn fx:id="colUnitPrice" text="PreÃ§o UnitÃ¡rio" prefWidth="200"/>
                            <TableColumn fx:id="colTotalPrice" text="Total" prefWidth="200"/>
                            <TableColumn fx:id="colAction" text="AÃ§Ãµes" prefWidth="200"/>
                        </columns>
                    </TableView>
                </VBox>
            </TitledPane>

            <!-- Total e Envio -->
            <HBox spacing="15" alignment="CENTER_RIGHT" styleClass="hbox-spacing">
                <Label fx:id="totalLabel" text="Total: 0 MZN" styleClass="total-label"/>
                <Button fx:id="submitButton" text="Finalizar" styleClass="primary-button">
                    <graphic>
                        <FontAwesomeIconView glyphName="SAVE" styleClass="icon"/>
                    </graphic>
                </Button>
            </HBox>
        </VBox>
    </ScrollPane>
</StackPane>
